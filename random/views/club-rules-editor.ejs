<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Club Rules Editor - Conundrum Club</title>
    <link rel="icon" type="image/png" href="<%= baseUrl %>/static/conondrum.png">
    <link rel="stylesheet" href="<%= baseUrl %>/css/club-rules-editor.css">
</head>
<body>
    <div class="container">
        <h1>üìù Club Rules Editor</h1>
        
        <% if (success) { %>
        <div class="success-message">
            ‚úÖ Club rules updated successfully!
        </div>
        <% } %>
        
        <% if (error) { %>
        <div class="error-message">
            ‚ùå <%= error %>
        </div>
        <% } %>
        
        <div class="editor-section">
            <form action="<%= baseUrl %>/random/club-rules/editor" method="POST">
                <div class="editor-header">
                    <h2>Edit Club Rules Content</h2>
                    <div class="info">
                        <p>This editor allows you to modify the club rules that appear on the rankings page.</p>
                        <p>You can use HTML and EJS syntax in the content.</p>
                    </div>
                </div>
                
                <div class="editor-container">
                    <textarea 
                        id="content" 
                        name="content" 
                        class="editor-textarea"
                        placeholder="Enter the club rules HTML content here..."
                        style="field-sizing: content;"
                        required
                    ><%= content %></textarea>
                </div>
                
                <div class="editor-actions">
                    <button type="submit" class="save-button">üíæ Save Changes</button>
                    <a href="<%= baseUrl %>/ranks" class="cancel-button">Cancel</a>
                </div>
            </form>
        </div>
        
        <div class="preview-section">
            <h2>Preview</h2>
            <div class="preview-container">
                <div id="preview"></div>
            </div>
        </div>
        
        <div class="back-link">
            <a href="<%= baseUrl %>/ranks">‚Üê Back to Rankings</a>
        </div>
    </div>
    
    <script>
        // Live preview functionality
        const textarea = document.getElementById('content');
        const preview = document.getElementById('preview');
        
        function updatePreview() {
            // Basic HTML rendering for preview
            // Note: This won't process EJS tags, but will show the HTML structure
            preview.innerHTML = textarea.value;
        }
        
        // Update preview on input
        textarea.addEventListener('input', updatePreview);
        
        // Initial preview
        updatePreview();
    </script>
</body>
</html>